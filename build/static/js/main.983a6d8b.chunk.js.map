{"version":3,"sources":["firebase.js","contexts/AuthContext.js","reducers/noticeReducer.js","services/token.js","services/user.js","components/Login.js","components/Signup.js","components/ForgotPassword.js","services/booking.js","reducers/bookingReducer.js","components/AddBooking.js","components/FilterAndSortBooking.js","components/BookingList.js","helpers/sortHelper.js","components/UserDashboard.js","components/PrivateRoute.js","components/Notification.js","components/Navbar.js","components/EditProfile.js","components/ScrollTop.js","components/Page404.js","App.js","store.js","index.js"],"names":["auth","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","unsubscribe","onAuthStateChanged","user","value","signup","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","forgotPassword","sendPasswordResetEmail","updateEmail","updatePassword","signInWithGoogleAccount","provider","GoogleAuthProvider","signInWithPopup","Provider","showMessage","message","duration","dispatch","type","show","text","setTimeout","clearTimeout","timer","noticeReducer","state","action","token","setToken","newToken","baseUrl","getAll","a","config","headers","Authorization","axios","get","res","data","create","newObject","post","response","update","put","then","remove","id","delete","theme","createTheme","Login","useDispatch","useForm","handleSubmit","register","errors","formState","history","useHistory","onSubmit","console","log","push","handleSignInWithGoogleAccount","additionalUserInfo","isNewUser","userInfo","profile","userService","uid","firstName","given_name","lastName","family_name","ThemeProvider","Container","component","maxWidth","CssBaseline","Box","sx","marginTop","display","flexDirection","alignItems","Avatar","m","bgcolor","Typography","variant","Button","onClick","startIcon","noValidate","mt","Grid","container","spacing","item","xs","TextField","error","helperText","fullWidth","label","required","pattern","minLength","Link","RouterLink","to","FormControlLabel","control","Checkbox","color","mb","justifyContent","Signup","sm","autoFocus","ForgotPassword","getById","initBooking","bookings","removeBooking","removeBookingId","bookingService","createBooking","booking","newBooking","bookingReducer","concat","filter","b","AddBooking","handleHideAddBookingButton","Date","now","dateTime","setDateTime","setValue","reset","watch","noServiceSelected","bookingData","address","bookingNote","bookingDate","serviceItem","ourServices","map","s","serviceName","name","noteName","serviceComment","i","undefined","handleReset","ref","usePlacesWidget","options","types","fields","componentRestrictions","country","isCheckBoxSelected","checkBoxName","includes","every","v","LocalizationProvider","dateAdapter","DateAdapter","flexWrap","width","Stack","DateTimePicker","renderInput","props","onChange","date","format","inputProps","service","direction","checked","orderBy","orderDirection","FilterAndSortBooking","handleSearch","handleSort","order","setOrder","sortBy","setSortBy","autoComplete","evt","target","select","option","MenuItem","ExpandMore","styled","expand","other","IconButton","transform","marginLeft","transition","transitions","shortest","BookingList","search","sort","setFilter","useSelector","sortedBookings","sortDescByDate","sortAscByDate","length","toLowerCase","expanded","setExpanded","handleDelete","window","confirm","handleStatusCondition","status","prevRating","Rating","event","newValue","rating","catch","err","handleRating","defaultValue","precision","handleChip","Chip","List","src","height","ListItem","Card","CardHeader","red","title","moment","subheader","CardContent","paragraph","CardActions","Collapse","in","timeout","unmountOnExit","Divider","worker","align","join","adminComment","getAuth","paperStyle","minHeight","margin","textAlign","UserDashboard","openAddBooking","setOpenAddBooking","showAddButton","setShowAddButton","getIdToken","rest","localStorage","setItem","JSON","stringify","updateProfile","displayName","photoURL","fetchData","Paper","elevation","style","endIcon","PrivateRoute","Component","render","Notification","messageObj","states","messageText","messageType","Snackbar","open","Alert","severity","Navbar","anchorEl","setAnchorEl","flexGrow","AppBar","Toolbar","size","edge","mr","currentTarget","charAt","toUpperCase","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","Boolean","onClose","strUserInfo","getItem","parse","phone","ScrollTop","trigger","useScrollTrigger","disableHysteresis","threshold","Zoom","anchor","ownerDocument","document","querySelector","scrollIntoView","behavior","block","role","position","bottom","right","Page404","mx","my","App","exact","path","EditProfile","Fab","reducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.983a6d8b.chunk.js","sourcesContent":["import firebase from 'firebase/compat/app'\nimport 'firebase/compat/auth'\nimport 'firebase/compat/firestore'\n\nconst app = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGINGSENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\n})\n\nexport const auth = app.auth()\nexport { firebase }","import React, { useContext, useEffect, useState } from 'react'\nimport { auth, firebase } from '../firebase'\n\n\n\nconst AuthContext = React.createContext()\n\nexport function useAuth(){\n  return useContext(AuthContext)\n}\n\nexport function AuthProvider({ children }){\n  const [currentUser, setCurrentUser] = useState()\n  const [loading, setLoading] = useState(true)\n\n  function signup(email, password){\n    return auth.createUserWithEmailAndPassword(email, password)\n  }\n\n  function login(email, password){\n    return auth.signInWithEmailAndPassword(email, password)\n  }\n\n  function logout(){\n    return auth.signOut()\n  }\n\n  function forgotPassword(email){\n    return auth.sendPasswordResetEmail(email)\n  }\n\n  function updateEmail(email){\n    return currentUser.updateEmail(email)\n  }\n\n  function updatePassword(password){\n    return currentUser.updatePassword(password)\n  }\n\n  function signInWithGoogleAccount(){\n    // Creates the provider object.\n    const provider = new firebase.auth.GoogleAuthProvider()\n    return auth.signInWithPopup(provider)\n  }\n\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      setCurrentUser(user)\n      setLoading(false)\n    })\n\n    return unsubscribe\n  },[])\n\n  const value = {\n    currentUser,\n    signup,\n    login,\n    logout,\n    forgotPassword,\n    updateEmail,\n    updatePassword,\n    signInWithGoogleAccount\n  }\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  )\n}","const noticeReducer = ( state = null, action ) => {\n  switch ( action.type ) {\n  case 'SET_MESSAGE':\n    return action.message\n  default:\n    return state\n  }\n}\n\n\nexport const showMessage = ( message, duration ) => {\n  let timer\n  return dispatch => {\n    dispatch({\n      type: 'SET_MESSAGE',\n      message:{\n        show:true,\n        type:message.type,\n        text:message.text\n      }\n    })\n\n    setTimeout(() => {\n      dispatch({\n        type:'SET_MESSAGE',\n        message:{\n          show:false,\n          type:message.type,\n          text:message.text\n        }\n      })\n    },duration*1000)\n    clearTimeout(timer)\n  }\n}\n\nexport default noticeReducer","let token = null\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nexport { setToken, token }","import axios from 'axios'\nconst baseUrl = '/api/users'\nimport { token } from './token'\n\n\n\nconst getAll = async() => {\n  const config = {\n    headers: { Authorization : token },\n  }\n  const res = await axios.get(baseUrl,config)\n  return res.data\n}\n\nconst create = async newObject => {\n  const response = await axios.post(baseUrl, newObject)\n  return response\n}\n\nconst update = (newObject) => {\n  const config = {\n    headers: { Authorization : token },\n  }\n  const request = axios.put(baseUrl, newObject,config)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${ baseUrl }/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll,create,update,remove }","/* eslint-disable no-unused-vars */\nimport React from 'react'\nimport { useForm } from 'react-hook-form'\nimport { useAuth } from '../contexts/AuthContext'\nimport { Link as RouterLink ,useHistory } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\nimport { showMessage } from '../reducers/noticeReducer'\n\n\n// style\nimport Avatar from '@mui/material/Avatar'\nimport Button from '@mui/material/Button'\nimport CssBaseline from '@mui/material/CssBaseline'\nimport TextField from '@mui/material/TextField'\nimport Checkbox from '@mui/material/Checkbox'\nimport Grid from '@mui/material/Grid'\nimport Box from '@mui/material/Box'\nimport Typography from '@mui/material/Typography'\nimport Container from '@mui/material/Container'\nimport { createTheme, ThemeProvider } from '@mui/material/styles'\nimport { FormControlLabel,Link } from '@mui/material'\nimport GoogleIcon from '@mui/icons-material/Google'\n\n// service\nimport userService from '../services/user'\n\nconst theme = createTheme()\n\nexport default function Login() {\n\n  const dispatch = useDispatch()\n\n  const { handleSubmit, register, formState: { errors } } = useForm()\n\n  const { login,signInWithGoogleAccount } = useAuth()\n\n  const history = useHistory()\n\n\n  // console.log(watch())\n  const onSubmit = async data => {\n\n    try {\n      const res = await login(data.email, data.password)\n      console.log('login good!',res)\n      dispatch(showMessage({ type:'success',text:'login good!' },5))\n      history.push('/')\n    } catch (err) {\n      dispatch(showMessage({ type:'error',text:'The password is invalid or the user does not have a password.' },5))\n      // console.log(err)\n    }\n  }\n\n  const handleSignInWithGoogleAccount = async() => {\n    try {\n      const res = await signInWithGoogleAccount()\n      // console.log(res)\n      if(res.additionalUserInfo.isNewUser){\n        console.log('isNewUser')\n\n        const userInfo = res.additionalUserInfo.profile\n        await userService.create({\n          uid: res.user.uid,\n          email:userInfo.email,\n          firstName:userInfo.given_name,\n          lastName:userInfo.family_name,\n        })\n      }\n\n      dispatch(showMessage({ type:'success',text:'login good!' },5))\n      history.push('/')\n\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Avatar sx={{ m: 1, bgcolor: 'primary.main' }}>\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Login\n          </Typography>\n\n          <Button onClick={handleSignInWithGoogleAccount} variant=\"outlined\" startIcon={<GoogleIcon />}>\n            Login with Google\n          </Button>\n\n          <Box component=\"form\" noValidate onSubmit={handleSubmit(onSubmit)} sx={{ mt: 3 }}>\n            <Grid container spacing={2}>\n\n              <Grid item xs={12}>\n                <TextField\n                  error={errors.email?.type === 'pattern' && true}\n                  helperText={errors.email?.type === 'pattern' && 'Email is not well formatted.'}\n                  fullWidth\n                  id=\"email\"\n                  label=\"Email Address\"\n                  {...register('email', { required:true, pattern: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/ })}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  error={errors.password?.type === 'minLength' && true}\n                  helperText={errors.password?.type === 'minLength' && 'At least 6 characters long.'}\n                  fullWidth\n                  {...register('password',{ required:true, minLength:6 })}\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password\"\n                />\n\n                <Link component={RouterLink} to=\"/forgot-password\">\n                  Forgot Password?\n                </Link>\n\n              </Grid>\n              <Grid item xs={12}>\n                <FormControlLabel\n                  control={<Checkbox value=\"allowExtraEmails\" color=\"primary\" />}\n                  label=\"Remember me\"\n                />\n              </Grid>\n            </Grid>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n            >\n              Login\n            </Button>\n            <Grid container justifyContent=\"flex-end\">\n              <Grid item>\n                <Link component={RouterLink} to=\"/signup\">\n                Need an account? Sign up\n                </Link>\n              </Grid>\n            </Grid>\n          </Box>\n        </Box>\n      </Container>\n    </ThemeProvider>\n  )\n}","import React from 'react'\nimport { useForm } from 'react-hook-form'\nimport { Link, useHistory } from 'react-router-dom'\nimport userService from '../services/user'\nimport { useDispatch } from 'react-redux'\nimport { showMessage } from '../reducers/noticeReducer'\n\n// style\nimport Avatar from '@mui/material/Avatar'\nimport Button from '@mui/material/Button'\nimport CssBaseline from '@mui/material/CssBaseline'\nimport TextField from '@mui/material/TextField'\n// import Checkbox from '@mui/material/Checkbox'\nimport { Link as UILink } from '@mui/material'\nimport Grid from '@mui/material/Grid'\nimport Box from '@mui/material/Box'\nimport Typography from '@mui/material/Typography'\nimport Container from '@mui/material/Container'\nimport { createTheme, ThemeProvider } from '@mui/material/styles'\n\nimport { useAuth } from '../contexts/AuthContext'\n\nconst theme = createTheme()\n\nexport default function Signup() {\n  const dispatch = useDispatch()\n  const { signup } = useAuth()\n\n  const { handleSubmit, register, formState: { errors } } = useForm()\n\n  const history = useHistory()\n\n\n  // console.log(watch())\n  const onSubmit = async data => {\n\n    try {\n      // console.log(data.email, data.password)\n      const res = await signup(data.email, data.password)\n\n      await userService.create({\n        uid: res.user.uid,\n        email:data.email,\n        firstName:data.firstName,\n        lastName:data.lastName\n      })\n      dispatch(showMessage({ type:'success',text:'Sign up successful!' },5))\n      // console.log('signup ok',res)\n      history.push('/')\n    } catch (err) {\n      dispatch(showMessage({ type:'error',text:'The email address is already in use by another account.' },5))\n      // console.log(err)\n    }\n  }\n\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign up\n          </Typography>\n          <Box component=\"form\" noValidate onSubmit={handleSubmit(onSubmit)} sx={{ mt: 3 }}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  error={errors.firstName?.type === 'pattern' && true}\n                  helperText={errors.firstName?.type === 'pattern' && 'Have to be alphabet.'}\n                  {...register('firstName', { required: true, pattern: /^[A-Za-z]+$/i })}\n                  fullWidth\n                  id=\"firstName\"\n                  label=\"First Name\"\n                  autoFocus\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  error={errors.lastName?.type === 'pattern' && true}\n                  helperText={errors.lastName?.type === 'pattern' && 'Have to be alphabet.'}\n                  required\n                  fullWidth\n                  id=\"lastName\"\n                  label=\"Last Name\"\n                  {...register('lastName', { required: true, pattern: /^[A-Za-z]+$/i })}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  error={errors.email?.type === 'pattern' && true}\n                  helperText={errors.email?.type === 'pattern' && 'Email is not well formatted.'}\n                  fullWidth\n                  id=\"email\"\n                  label=\"Email Address\"\n                  {...register('email', { required:true, pattern: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/ })}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  error={errors.password?.type === 'minLength' && true}\n                  helperText={errors.password?.type === 'minLength' && 'At least 6 characters long.'}\n                  fullWidth\n                  {...register('password',{ required:true, minLength:6 })}\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password\"\n                />\n              </Grid>\n              {/* <Grid item xs={12}>\n                <FormControlLabel\n                  control={<Checkbox value=\"allowExtraEmails\" color=\"primary\" />}\n                  label=\"I want to receive inspiration, marketing promotions and updates via email.\"\n                />\n              </Grid> */}\n            </Grid>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n            >\n              Sign Up\n            </Button>\n            <Grid container justifyContent=\"flex-end\">\n              <Grid item>\n                <Link to=\"/login\">\n                  <UILink variant=\"body2\">\n                  Already have an account? Sign in\n                  </UILink>\n                </Link>\n              </Grid>\n            </Grid>\n          </Box>\n        </Box>\n      </Container>\n    </ThemeProvider>\n  )\n}","/* eslint-disable no-unused-vars */\nimport React,{ useState } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { useAuth } from '../contexts/AuthContext'\nimport { useHistory } from 'react-router-dom'\n\n// style\nimport Avatar from '@mui/material/Avatar'\nimport Button from '@mui/material/Button'\nimport CssBaseline from '@mui/material/CssBaseline'\nimport TextField from '@mui/material/TextField'\nimport Grid from '@mui/material/Grid'\nimport Box from '@mui/material/Box'\nimport Typography from '@mui/material/Typography'\nimport Container from '@mui/material/Container'\nimport { createTheme, ThemeProvider } from '@mui/material/styles'\n\nconst theme = createTheme()\n\nexport default function ForgotPassword() {\n\n  const { handleSubmit, register, formState: { errors } } = useForm()\n\n  const { forgotPassword } = useAuth()\n\n  const history = useHistory()\n\n  // console.log(watch())\n  const onSubmit = async data => {\n\n    try {\n      const res = await forgotPassword(data.email)\n      console.log('ok',res)\n      history.push('/')\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Avatar sx={{ m: 1, bgcolor: 'primary.main' }}>\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Reset password\n          </Typography>\n          <Box component=\"form\" noValidate onSubmit={handleSubmit(onSubmit)} sx={{ mt: 3 }}>\n            <Grid container spacing={2}>\n\n              <Grid item xs={12}>\n                <TextField\n                  error={errors.email?.type === 'pattern' && true}\n                  helperText={errors.email?.type === 'pattern' && 'Email is not well formatted.'}\n                  fullWidth\n                  id=\"email\"\n                  label=\"Email Address\"\n                  {...register('email', { required:true, pattern: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/ })}\n                />\n              </Grid>\n\n            </Grid>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n            >\n              reset password\n            </Button>\n\n\n\n          </Box>\n        </Box>\n      </Container>\n    </ThemeProvider>\n  )\n}","import axios from 'axios'\nconst baseUrl = '/api/bookings'\nimport { token } from './token'\n\n\n\nconst getAll = async() => {\n  const res = await axios.get(baseUrl)\n  return res.data\n}\n\nconst getById = async(id) => {\n  const res = await axios.get(`${baseUrl}/${id}`)\n  return res.data\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization : token },\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst update = async(id, newObject) => {\n  const response = await axios.put(`${ baseUrl }/${id}`, newObject)\n  return response.data\n}\n\nconst remove = async(id) => {\n  const response = await axios.delete(`${ baseUrl }/${id}`)\n  return response.data\n}\n\nexport default { getAll,create,update,remove,getById }","import bookingService from '../services/booking'\n\nconst bookingReducer = (state=[],action) => {\n  switch (action.type) {\n  case 'INIT_BOOKINGS':\n    return action.bookings\n  case 'NEW_BOOKING':\n    return state.concat(action.newBooking)\n  case 'REMOVE_BOOKING':\n    return state.filter(b => b.id!==action.removeBookingId)\n  default:\n    return state\n  }\n}\n\nexport function initBooking(bookings){\n  return{\n    type:'INIT_BOOKINGS',\n    bookings\n  }\n}\n\nexport function removeBooking(removeBookingId){\n  return async dispatch => {\n    const res = await bookingService.remove(removeBookingId)\n    console.log(res)\n\n    dispatch({\n      type:'REMOVE_BOOKING',\n      removeBookingId\n    })\n  }\n}\n\nexport function createBooking(booking){\n  return async dispatch => {\n    const newBooking = await bookingService.create(booking)\n    dispatch({\n      type:'NEW_BOOKING',\n      newBooking\n    })\n  }\n}\n\nexport default bookingReducer","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { usePlacesWidget } from 'react-google-autocomplete'\nimport { useDispatch } from 'react-redux'\n\n\nimport Stack from '@mui/material/Stack'\nimport TextField from '@mui/material/TextField'\nimport DateTimePicker from '@mui/lab/DateTimePicker'\nimport Box from '@mui/material/Box'\nimport { Button, Checkbox } from '@mui/material'\nimport FormControlLabel from '@mui/material/FormControlLabel'\nimport DateAdapter from '@mui/lab/AdapterMoment'\nimport LocalizationProvider from '@mui/lab/LocalizationProvider'\nimport { createBooking } from '../reducers/bookingReducer'\nimport { showMessage } from '../reducers/noticeReducer'\n\nexport default function AddBooking({ handleHideAddBookingButton }) {\n  const dispatch = useDispatch()\n  const [dateTime, setDateTime] = useState(new Date(Date.now() + ( 3600 * 1000 * 24)))\n\n  const { register,setValue,reset, handleSubmit, watch } = useForm()\n\n  // console.log(watch())\n\n  const handleDateChange = (date) => {\n    setValue('bookingDate',date.format())\n    setDateTime(date.format())\n  }\n\n  // console.log(dateTime)\n\n  const onSubmit = async data => {\n    if(noServiceSelected){\n      return dispatch(showMessage({ type:'warning', text:'Please check at least one service!' },5))\n      // return alert('Pls check at least one service')\n    }\n    const bookingData = {\n      address:data.address,\n      bookingNote:data.bookingNote,\n      bookingDate:data.bookingDate,\n      serviceItem: ourServices.map(s => {\n        const serviceName = s.name\n        const noteName = s.noteName\n        // console.log(data[serviceName])\n        if(data[serviceName]){\n          return {\n            item:s.name,\n            serviceComment:data[noteName]\n          }\n        }\n      }).filter(i => i!==undefined)\n    }\n    // console.log(bookingData)\n\n    // const res = await bookingService.create(bookingData)\n    dispatch(createBooking(bookingData))\n\n    dispatch(showMessage({ type:'success', text:'Create new booking OK!!' },5))\n\n    handleReset()\n  }\n\n  const { ref } = usePlacesWidget({\n    apiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\n    options: {\n      types: ['address'],\n      fields:['formatted_address'],\n      componentRestrictions: { country: 'nz' },\n    },\n  })\n\n  const ourServices = [{\n    label:'Lawn Mowing',\n    name:'lawnMowing',\n    noteName:'noteLawnMowing'\n  },{\n    label:'Garbage Collect',\n    name:'garbageCollect',\n    noteName:'noteGarbageCollect'\n  }, {\n    label:'Gardening',\n    name:'gardening',\n    noteName:'noteGardening'\n  },{\n    label:'Landscaping',\n    name:'landscaping',\n    noteName:'noteLandscaping'\n  }, {\n    label:'Gutter Clean',\n    name:'gutterCleansing',\n    noteName:'noteGutterCleansing'\n  }, {\n    label:'Trimming & Pruning',\n    name:'trimmingPruning',\n    noteName:'noteTrimmingPruning'\n  }]\n\n  const isCheckBoxSelected = (checkBoxName) => watch(checkBoxName,false)\n  // console.log(isCheckBoxSelected('lawnMowing'))\n  const noServiceSelected = !watch(ourServices.map(s => s.name)).includes(undefined)? watch(ourServices.map(s => s.name), false)\n    .every(v => v===false):true\n  // console.log('noServiceSelected',noServiceSelected)\n\n  // console.log('Form states',watch())\n\n  const handleReset = () => {\n    reset()\n    handleHideAddBookingButton()\n  }\n\n  return (\n    <LocalizationProvider dateAdapter={DateAdapter}>\n      <Box\n        sx={{\n          display: 'flex',\n          flexWrap: 'wrap',\n          '& > :not(style)': {\n            m: 2,\n            width:1,\n          },\n        }}\n      >\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <Stack spacing={1}>\n            <DateTimePicker\n              renderInput={(props) => <TextField {...props} />}\n              label=\"Date&Time picker\"\n              value={dateTime}\n              {...register('bookingDate',{ required: true })}\n              onChange={handleDateChange}\n            />\n\n            <TextField\n              {...register('address', { required: true })}\n              inputProps={{ ref: ref }} label=\"Where to service\" variant=\"outlined\" />\n            {ourServices.map((service,i) => (\n              <Stack key={i} direction=\"row\" spacing={2} alignItems='flex-start'>\n                <FormControlLabel\n                  checked={isCheckBoxSelected(service.name) || false}\n                  {...register(service.name)}\n                  label={service.label}\n                  control={<Checkbox />}  />\n                {isCheckBoxSelected(service.name) &&\n                <TextField\n                  {...register(service.noteName)}\n                  variant=\"outlined\"\n                  label={`Notes for ${service.label}(Optional)`} />}\n              </Stack>\n            ))}\n\n            <TextField {...register('bookingNote')}\n              id=\"bookingNote\" variant=\"outlined\" />\n\n            <Stack direction=\"row\" spacing={2} justifyContent=\"center\">\n              <Button type='submit' variant=\"contained\" color=\"success\">Add</Button>\n              <Button variant=\"contained\" color=\"error\" onClick={handleReset}>Cancel</Button>\n            </Stack>\n          </Stack>\n        </form>\n      </Box>\n    </LocalizationProvider>\n  )\n}\n","/* eslint-disable no-unused-vars */\nimport {   MenuItem, TextField } from '@mui/material'\nimport { Box } from '@mui/system'\n\nimport React, { useState } from 'react'\n\nconst orderBy = [\n  {\n    value: 'date',\n    label: 'Date',\n  },\n  {\n    value: 'name',\n    label: 'Worker Name',\n  },\n  {\n    value: 'address',\n    label: 'Address',\n  },\n]\n\nconst orderDirection = [\n  {\n    value: 'asc',\n    label: 'Ascending',\n  },\n  {\n    value: 'desc',\n    label: 'Descending',\n  },\n]\n\nexport default function FilterAndSortBooking ({ handleSearch,handleSort }){\n\n  const [ order,setOrder ] = useState('desc')\n  const [ sortBy, setSortBy ] = useState('date')\n\n  // console.log(order,sortBy)\n\n  return (\n    <Box\n      component=\"form\"\n      sx={{\n        '& .MuiTextField-root': { m: 1, width: 4/5 },\n      }}\n      noValidate\n      autoComplete=\"off\"\n    >\n      <TextField id=\"outlined-basic\" label=\"Search address\" variant=\"outlined\"\n        onChange={(evt) => handleSearch(evt.target.value)} />\n\n\n      <TextField\n        id=\"outlined-select-currency\"\n        select\n        label=\"Order by\"\n        value={sortBy}\n        onChange={(evt) => {\n          setSortBy(evt.target.value)\n          handleSort(order,evt.target.value)\n\n        } }\n      >\n        {orderBy.map((option) => (\n          <MenuItem key={option.value} value={option.value}>\n            {option.label}\n          </MenuItem>\n        ))}\n      </TextField>\n      <TextField\n        id=\"outlined-select-currency\"\n        select\n        label=\"Order\"\n        value={order}\n        onChange={(evt) => {\n          setOrder(evt.target.value)\n          handleSort(evt.target.value,sortBy)\n\n        }}\n      >\n        {orderDirection.map((option) => (\n          <MenuItem key={option.value} value={option.value}>\n            {option.label}\n          </MenuItem>\n        ))}\n      </TextField>\n\n    </Box>\n\n\n\n  )\n}\n","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react'\n\n// UI\nimport { styled } from '@mui/material/styles'\nimport Card from '@mui/material/Card'\nimport CardHeader from '@mui/material/CardHeader'\nimport CardContent from '@mui/material/CardContent'\nimport CardActions from '@mui/material/CardActions'\nimport Collapse from '@mui/material/Collapse'\nimport IconButton from '@mui/material/IconButton'\nimport Typography from '@mui/material/Typography'\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore'\nimport { Divider, List, ListItem, Rating, Stack } from '@mui/material'\nimport Chip from '@mui/material/Chip'\nimport CancelIcon from '@mui/icons-material/Cancel'\nimport { red } from '@mui/material/colors'\n\n// functions\nimport moment from 'moment'\nimport bookingService from '../services/booking'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showMessage } from '../reducers/noticeReducer'\nimport { removeBooking } from '../reducers/bookingReducer'\nimport FilterAndSortBooking from './FilterAndSortBooking'\nimport { sortAscByDate, sortDescByDate } from '../helpers/sortHelper'\nimport { Box } from '@mui/system'\n\n\nconst ExpandMore = styled((props) => {\n  const { expand, ...other } = props\n  return <IconButton {...other} />\n})(({ theme, expand }) => ({\n  transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\n  marginLeft: 'auto',\n  transition: theme.transitions.create('transform', {\n    duration: theme.transitions.duration.shortest,\n  }),\n}))\n\n\n\nexport default function BookingList(){\n\n  const [filter,setFilter] =useState({\n    search:'',\n    sort:'desc', //required\n    sortBy:'date' //required\n  })\n\n  const bookings = useSelector(state => {\n    let sortedBookings\n    if (filter.sort==='desc'){\n      sortedBookings = sortDescByDate(state.bookings)\n    }else{\n      sortedBookings = sortAscByDate(state.bookings)\n    }\n\n    if(filter.search!=='' && filter.search.length>1){\n      return sortedBookings.filter(b => b.address.toLowerCase().includes(filter.search))\n    }\n\n    return sortedBookings\n\n  })\n  console.log(bookings)\n\n\n  const dispatch = useDispatch()\n\n  const [expanded, setExpanded] = useState(false)\n\n\n  const handleDelete = async(id) => {\n    if (window.confirm('Do you really want to cancel this booking?')) {\n      const res = await bookingService.remove(id)\n      dispatch(removeBooking(id))\n      dispatch(showMessage({ type:'success', text:res.message },5))\n      // console.log(res)\n    }\n  }\n\n\n  const handleClick = (id) => {\n    setExpanded({\n      ...expanded,\n      [id]: !expanded[id]\n    })\n  }\n\n  // filter and sort\n  const handleSearch= (text) => {\n    if (text!==''){\n      setFilter({ ...filter,search:text })\n    }\n  }\n\n  const handleSort = ( order, orderBy ) => {\n    console.log(order, orderBy)\n    setFilter({ ...filter, sort:order,sortBy:orderBy })\n  }\n\n  const handleRating = (id,rating) => {\n    bookingService.update(id,{ rating }).then((res) => {\n      dispatch(showMessage({ type:'success', text:'Your rating has been updated!' },5))\n      // console.log('ok',res)\n    }).catch(err => {\n      console.log(err)\n    })\n    // console.log(rating,id)\n  }\n\n  const handleStatusCondition = (id,status, prevRating) => {\n    if (status==='completed'){\n      return (\n        <Rating\n          onChange={(event,newValue) => handleRating(id,newValue)}\n          name=\"half-rating\" defaultValue={prevRating} precision={0.5} />\n      )\n    }\n  }\n\n  const handleChip = (status) => {\n    console.log(status)\n    let color\n    switch (status) {\n    case 'pending':\n      color='primary'\n      break\n    case 'completed':\n      color='secondary'\n      break\n    case 'approved':\n      color='success'\n      break\n    case 'declined':\n      color ='error'\n      break\n    default:\n      break\n    }\n    return (\n      <Chip label={status} color={color} variant=\"filled\"  />\n    )\n  }\n\n  const handleRenderNote = (bookingNote) => {\n    return (\n      <>\n        <Divider />\n        <Typography paragraph >Your Note on Booking:</Typography>\n        {bookingNote}\n      </>\n    )\n  }\n\n  const renderNoBookings = () => (\n    <>\n      <Box\n        component=\"img\"\n        src=\"/not-found.svg\"\n        sx={{ height: 230, width:2/3, mb:2 }}\n      />\n      <Typography sx={{ mb:2 }} variant=\"body2\" >No booking added...</Typography>\n    </>\n  )\n\n  return(\n    <div>\n      <FilterAndSortBooking\n        handleSearch={handleSearch}\n        handleSort={handleSort} />\n\n      <List>\n        <h2>Booking List</h2>\n        {bookings.length===0 && renderNoBookings()}\n\n        {bookings.map((booking,i) => (\n          <ListItem key={i}>\n            <Card sx={{ width:1 }}>\n              <CardHeader\n                action={\n                  <IconButton aria-label=\"delete\" onClick={() => handleDelete(booking.id)}>\n                    <CancelIcon sx={{ color: red[600] }} />\n                  </IconButton>\n\n                }\n                title={moment(booking.bookingDate).format('LL')}\n                subheader={moment(booking.bookingDate).format('LT')}\n              />\n\n              <CardContent>\n                <Typography paragraph>{booking.address} </Typography>\n              </CardContent>\n              <CardActions>\n                <Stack direction=\"row\" spacing={2}>\n                  {handleChip(booking.status)}\n                  {handleStatusCondition(booking.id,booking.status,booking.rating)}\n                </Stack>\n\n                <ExpandMore\n                  expand={expanded[i]}\n                  onClick={() => handleClick(i) }\n                  aria-expanded={expanded[i]}\n                  aria-label=\"show more\"\n                >\n                  <ExpandMoreIcon />\n                </ExpandMore>\n              </CardActions>\n              <Collapse in={expanded[i]} timeout=\"auto\" unmountOnExit>\n                <CardContent>\n                  <Typography paragraph >Services you picked:</Typography>\n                  {booking.serviceItem.map(i => (\n                    <div key={i.item}>\n                      <Typography variant=\"overline\" paragraph>\n                        {i.item}\n                      </Typography>\n                      <Typography variant=\"body2\" paragraph>\n                        {i.serviceComment}\n                      </Typography>\n                    </div>\n                  ))}\n                  {booking.bookingNote && handleRenderNote(booking.bookingNote)}\n\n                  {booking.worker.length!==0 &&\n                    <Typography variant=\"body2\" color=\"text.secondary\" align='right'>\n                    Worker: {booking.worker.join(', ')}\n                    </Typography>}\n                  {booking.adminComment &&\n                  <Typography paragraph >Admin comment:{booking.adminComment}</Typography>}\n                </CardContent>\n              </Collapse>\n            </Card>\n          </ListItem>\n        ))}\n      </List>\n    </div>\n  )\n}","export function sortDescByDate(bookings){\n  // console.log('sort',bookings)\n  return bookings.sort((a,b) => new Date(b.bookingDate)-new Date(a.bookingDate) )\n}\n\nexport function sortAscByDate(bookings){\n  return bookings.sort((a,b) => new Date(a.bookingDate)- new Date(b.bookingDate) )\n}","/* eslint-disable no-unused-vars */\nimport React, { useEffect, useState } from 'react'\nimport { useAuth } from '../contexts/AuthContext'\nimport userService from '../services/user'\nimport { getAuth, updateProfile } from 'firebase/auth'\nimport AddBooking from './AddBooking'\nimport BookingList from './BookingList'\nimport { setToken } from '../services/token'\nimport { useDispatch } from 'react-redux'\nimport { initBooking } from '../reducers/bookingReducer'\n\n// UI\nimport { Button, Paper } from '@mui/material'\nimport Collapse from '@mui/material/Collapse'\nimport AddTaskIcon from '@mui/icons-material/AddTask'\n\nconst auth = getAuth()\n\nconst paperStyle = {\n  minHeight: 600,\n  width: 360,\n  margin: '20px auto',\n  textAlign: 'center'\n}\n\nexport default function UserDashboard(){\n  const { currentUser } = useAuth()\n  const dispatch = useDispatch()\n  const [openAddBooking,setOpenAddBooking] = useState(false)\n  const [showAddButton, setShowAddButton] = useState(true)\n\n  useEffect(() => {\n    async function fetchData() {\n      const token = await currentUser.getIdToken()\n      // console.log(token)\n      setToken(token)\n      const res = await userService.getAll()\n      const { bookings, ...rest } = res\n\n      // console.log(res)\n\n      dispatch(initBooking(bookings))\n      window.localStorage.setItem('userInfo', JSON.stringify(rest))\n\n      await updateProfile(\n        auth.currentUser, {\n          displayName: res.firstName,\n          photoURL:res.photoURL\n        })\n    }\n    fetchData()\n\n  },[currentUser, dispatch])\n\n  // console.log(currentUser.photoURL)\n  const renderAddBookingButton = () => (\n    <Button\n      onClick={() => {\n        setShowAddButton(false)\n        setOpenAddBooking(true)\n      }}\n      color='success' sx={{ m:2 }}\n      variant=\"contained\" endIcon={<AddTaskIcon />}>\n      add booking\n    </Button>\n  )\n\n\n  const handleHideAddBookingButton = () => {\n    setShowAddButton(!showAddButton)\n    setOpenAddBooking(!openAddBooking)\n  }\n\n  return(\n    <div>\n      <Paper elevation={3} style={paperStyle}>\n        {showAddButton && renderAddBookingButton()}\n\n        <Collapse in={openAddBooking}>\n          <AddBooking handleHideAddBookingButton={handleHideAddBookingButton} />\n        </Collapse>\n        <BookingList />\n      </Paper>\n    </div>\n  )\n}","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport { useAuth } from '../contexts/AuthContext'\n\nexport default function PrivateRoute({ component: Component, ...rest }) {\n  const { currentUser } = useAuth()\n  return (\n    <Route\n      {...rest}\n      render={props => (\n        currentUser\n          ? <Component {...props} />\n          :<Redirect to=\"/login\" />\n      )} />\n  )\n}\n","import { React } from 'react'\nimport { useSelector } from 'react-redux'\nimport Alert from '@mui/material/Alert'\nimport Snackbar from '@mui/material/Snackbar'\n\n\nconst Notification =() => {\n  const messageObj = useSelector(states => states.message)\n  const showMessage = messageObj?.show\n  const messageText = messageObj?.text\n  const messageType = messageObj?.type\n  // console.log('showMessage',showMessage)\n\n  return(\n    <Snackbar open={showMessage}>\n      <Alert severity={messageType} sx={{ width: '100%' }}>\n        {messageText}\n      </Alert>\n    </Snackbar>\n  )\n}\n\n\nexport default Notification","import React from 'react'\nimport { useAuth } from '../contexts/AuthContext'\nimport { useHistory } from 'react-router-dom'\n\nimport AppBar from '@mui/material/AppBar'\nimport Toolbar from '@mui/material/Toolbar'\nimport Menu from '@mui/material/Menu'\nimport {  Avatar, IconButton, MenuItem } from '@mui/material'\nimport Typography from '@mui/material/Typography'\nimport { Box } from '@mui/system'\nimport Notification from './Notification'\n\n\n\nexport default function Navbar() {\n\n  const { currentUser,logout } = useAuth()\n\n  const [anchorEl, setAnchorEl] = React.useState(null)\n\n  const history = useHistory()\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget)\n  }\n\n  const handleClose = () => {\n    setAnchorEl(null)\n  }\n\n  const handleProfile = () => {\n    setAnchorEl(null)\n    history.push('/profile')\n\n  }\n\n  async function handleLogout(){\n    setAnchorEl(null)\n    try {\n      await logout()\n      history.push('/')\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      <AppBar>\n        <Toolbar>\n          <IconButton\n            size=\"large\"\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"menu\"\n            sx={{ mr: 2 }}\n          >\n          </IconButton>\n          <Typography onClick={() => history.push('/')} variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n            Bookings\n          </Typography>\n\n          {currentUser && (\n            <div>\n              <IconButton\n                size=\"large\"\n                aria-label=\"account of current user\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleMenu}\n                color=\"inherit\"\n              >\n                <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n                  { currentUser?.photoURL\n                    ? <Avatar src={currentUser.photoURL} />\n                    : <Avatar>\n                      {currentUser?.displayName?.charAt(0).toUpperCase()}\n                    </Avatar>}\n                </Typography>\n              </IconButton>\n              <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                  vertical: 'top',\n                  horizontal: 'right',\n                }}\n                keepMounted\n                transformOrigin={{\n                  vertical: 'top',\n                  horizontal: 'right',\n                }}\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n              >\n\n                <MenuItem onClick={handleProfile}>\n                  Profile\n                </MenuItem>\n\n                <MenuItem onClick={handleLogout}>Logout</MenuItem>\n              </Menu>\n            </div>\n          )}\n\n        </Toolbar>\n        <Notification />\n      </AppBar>\n\n    </Box>\n  )\n}\n","/* eslint-disable no-unused-vars */\nimport React, { useEffect, useState } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { Link, useHistory } from 'react-router-dom'\nimport userService from '../services/user'\n\n// style\nimport Avatar from '@mui/material/Avatar'\nimport Button from '@mui/material/Button'\nimport CssBaseline from '@mui/material/CssBaseline'\nimport TextField from '@mui/material/TextField'\nimport Grid from '@mui/material/Grid'\nimport Box from '@mui/material/Box'\nimport Typography from '@mui/material/Typography'\nimport Container from '@mui/material/Container'\nimport { createTheme, ThemeProvider } from '@mui/material/styles'\n\nimport { useAuth } from '../contexts/AuthContext'\nimport { useDispatch } from 'react-redux'\nimport { showMessage } from '../reducers/noticeReducer'\n\nconst theme = createTheme()\n\nexport default function Signup() {\n  const { currentUser,updateEmail,updatePassword } = useAuth()\n\n  const { handleSubmit, register, formState: { errors }, setValue } = useForm()\n\n  const history = useHistory()\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    const strUserInfo = window.localStorage.getItem('userInfo')\n    const userInfo = JSON.parse(strUserInfo)\n    console.log('userInfo',userInfo)\n\n    setValue('firstName', userInfo.firstName)\n    setValue('lastName', userInfo.lastName)\n    setValue('phone',userInfo.phone)\n    setValue('email', userInfo.email)\n    setValue('lastName', userInfo.lastName)\n    setValue('photoURL', userInfo.photoURL)\n  },[setValue])\n\n\n\n  // console.log(watch())\n  const onSubmit = async data => {\n\n    try {\n      console.log('edit profile form data',data)\n      await updateEmail(data.email)\n      await updatePassword(data.password)\n      // await updatePassword()\n      await userService.update({\n        firstName:data.firstName,\n        lastName:data.lastName,\n        email:data.email,\n        phone:data.phone,\n        photoURL:data.photoURL\n      })\n      dispatch(showMessage({ type:'success',text:'profile updated!' },5))\n      history.push('/')\n    } catch (err) {\n      dispatch(showMessage({ type:'error',text:'Failed, check console whats wrong...' },5))\n      console.log('edit profile',err)\n    }\n  }\n\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n          </Avatar>\n          <Typography component=\"h1\">\n            Profile\n          </Typography>\n          <Box component=\"form\" noValidate onSubmit={handleSubmit(onSubmit)} sx={{ mt: 3 }}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  error={errors.firstName?.type === 'pattern' && true}\n                  helperText={errors.firstName?.type === 'pattern' && 'Have to be alphabet.'}\n                  {...register('firstName', { pattern: /^[A-Za-z]+$/i })}\n                  fullWidth\n                  id=\"firstName\"\n                  label=\"First Name\"\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  error={errors.lastName?.type === 'pattern' && true}\n                  helperText={errors.lastName?.type === 'pattern' && 'Have to be alphabet.'}\n                  fullWidth\n                  id=\"lastName\"\n                  label=\"Last Name\"\n                  {...register('lastName', { pattern: /^[A-Za-z]+$/i })}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  error={errors.email?.type === 'pattern' && true}\n                  helperText={errors.email?.type === 'pattern' && 'Email is not well formatted.'}\n                  fullWidth\n                  id=\"email\"\n                  label=\"Email Address\"\n                  {...register('email', { pattern: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/ })}\n                />\n              </Grid>\n\n              <Grid item xs={12}>\n                <TextField\n                  error={errors.phone?.type === 'minLength' && true}\n                  helperText={errors.phone?.type === 'minLength' && 'Input at least 6 digit.'}\n                  fullWidth\n                  id=\"phone\"\n                  label=\"Phone number\"\n                  {...register('phone', { minLength:6 })}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  error={errors.password?.type === 'minLength' && true}\n                  helperText={errors.password?.type === 'minLength' && 'At least 6 charactor long.'}\n                  fullWidth\n                  {...register('password',{ minLength:6 })}\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password\"\n                />\n              </Grid>\n\n              <Grid item xs={12}>\n                <TextField\n                  error={errors.photoURL?.type === 'pattern' && true}\n                  helperText={errors.photoURL?.type === 'pattern' && 'Pls input valid url.'}\n                  fullWidth\n                  {...register('photoURL',{ pattern: /[(http(s)?)://(www.)?a-zA-Z0-9@:%._+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/ig })}\n                  label=\"Avatar URL\"\n                  type=\"photoURL\"\n                  id=\"photoURL\"\n                />\n              </Grid>\n              {/* <Grid item xs={12}>\n                <FormControlLabel\n                  control={<Checkbox value=\"allowExtraEmails\" color=\"primary\" />}\n                  label=\"I want to receive inspiration, marketing promotions and updates via email.\"\n                />\n              </Grid> */}\n            </Grid>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n            >\n              update\n            </Button>\n          </Box>\n        </Box>\n      </Container>\n    </ThemeProvider>\n  )\n}","import React from 'react'\nimport Zoom from '@mui/material/Zoom'\nimport useScrollTrigger from '@mui/material/useScrollTrigger'\nimport { Box } from '@mui/system'\n\nexport default function ScrollTop(props) {\n  const { children, window } = props\n  // Note that you normally won't need to set the window ref as useScrollTrigger\n  // will default to window.\n  // This is only being set here because the demo is in an iframe.\n  const trigger = useScrollTrigger({\n    target: window ? window() : undefined,\n    disableHysteresis: true,\n    threshold: 100,\n  })\n\n  const handleClick = (event) => {\n    // console.log('clicked')\n    const anchor = (event.target.ownerDocument || document).querySelector(\n      '#back-to-top-anchor',\n    )\n\n    if (anchor) {\n      anchor.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n      })\n    }\n  }\n  return (\n    <Zoom in={trigger}>\n      <Box\n        onClick={handleClick}\n        role=\"presentation\"\n        sx={{ position: 'fixed', bottom: 16, right: 16 }}\n      >\n        {children}\n      </Box>\n    </Zoom>\n  )\n}","import React from 'react'\nimport { Link as RouterLink } from 'react-router-dom'\n// material\nimport { Box, Button, Typography, Container } from '@mui/material'\n// components\n\n\n\nexport default function Page404() {\n  return (\n    <Container>\n      <Box sx={{ maxWidth: 480, margin: 'auto', textAlign: 'center' }}>\n        <Typography variant=\"h3\" paragraph>\n                    Sorry, page not found!\n        </Typography>\n        <Typography sx={{ color: 'text.secondary' }}>\n                    Sorry, we couldn’t find the page you’re looking for. Perhaps you’ve mistyped the URL?\n                    Be sure to check your spelling.\n        </Typography>\n\n        <Box\n          component=\"img\"\n          src=\"/illustration_404.svg\"\n          sx={{ height: 260, mx: 'auto', my: { xs: 5, sm: 10 } }}\n        />\n\n        <Button to=\"/\" size=\"large\" variant=\"contained\" component={RouterLink}>\n                    Go to Home\n        </Button>\n      </Box>\n    </Container>\n  )\n}\n","/* eslint-disable no-unused-vars */\nimport { React } from 'react'\nimport Login from './components/Login'\n\nimport {\n  Switch,\n  Route,\n} from 'react-router-dom'\n\n\nimport Container from '@mui/material/Container'\n\nimport Signup from './components/Signup'\nimport { AuthProvider } from './contexts/AuthContext'\nimport ForgotPassword from './components/ForgotPassword'\nimport UserDashboard from './components/UserDashboard'\nimport PrivateRoute from './components/PrivateRoute'\nimport Navbar from './components/Navbar'\nimport EditProfile from './components/EditProfile'\nimport { CssBaseline } from '@mui/material'\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp'\nimport Fab from '@mui/material/Fab'\nimport ScrollTop from './components/ScrollTop'\nimport Page404 from './components/Page404'\n\n\n\nconst App = ({ props }) => {\n\n  return (\n    <>\n      <AuthProvider>\n        <CssBaseline />\n        <div id=\"back-to-top-anchor\" />\n        <Navbar />\n\n        <Container maxWidth=\"sm\" style={{ marginTop: 80 }}>\n\n          <Switch>\n            <PrivateRoute exact path=\"/\" component={UserDashboard} />\n            <PrivateRoute path=\"/profile\" component={EditProfile} />\n            <Route path=\"/signup\" component={Signup} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/forgot-password\" component={ForgotPassword} />\n            <Route path=\"/*\" component={Page404} />\n          </Switch>\n\n          <ScrollTop {...props}>\n            <Fab color=\"secondary\" size=\"small\" aria-label=\"scroll back to top\">\n              <KeyboardArrowUpIcon />\n            </Fab>\n          </ScrollTop>\n\n        </Container>\n      </AuthProvider>\n    </>\n  )\n}\n\n\nexport default App\n","import { applyMiddleware, combineReducers, createStore } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport thunk from 'redux-thunk'\nimport noticeReducer from './reducers/noticeReducer'\nimport bookingReducer from './reducers/bookingReducer'\n\n\nconst reducer = combineReducers({\n  message: noticeReducer,\n  bookings: bookingReducer,\n})\n\nconst store = createStore(\n  reducer,\n  composeWithDevTools(applyMiddleware(thunk))\n)\n\nexport default store\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport {  BrowserRouter as Router } from 'react-router-dom'\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}