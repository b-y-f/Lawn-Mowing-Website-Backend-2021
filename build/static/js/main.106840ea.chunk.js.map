{"version":3,"sources":["services/booking.js","services/client.js","reducers/bookingReducer.js","components/BookingForm.js","services/login.js","reducers/loginReducer.js","reducers/noticeReducer.js","components/Login.js","components/Notification.js","components/SignupForm.js","components/Navbar.js","components/QuoteList.js","App.js","helpers/sortHelper.js","store.js","index.js"],"names":["baseUrl","token","getAll","a","axios","get","request","data","create","newObject","config","headers","Authorization","post","response","update","id","put","remove","delete","setToken","newToken","getBookingsById","clientId","requst","bookings","then","initBookingById","dispatch","clientService","initBookings","type","createBooking","booking","bookingService","newBooking","bookingReducer","state","action","concat","QuoteForm","useDispatch","useState","islLawnMowing","setIslLawnMowing","isGardening","setIsGardening","isRubbishRemove","setIsRubbishRemove","comment","setComment","address","setAddress","submitQuote","event","preventDefault","serviceSelected","filter","Boolean","map","i","item","serviceItem","onSubmit","name","checked","onChange","value","target","login","credentials","userReducer","user","showMesssage","message","duration","clearTimeout","timer","setTimeout","noticeReducer","Login","username","setUsername","password","setPassword","handleLogin","loginService","window","localStorage","setItem","JSON","stringify","quoteService","error","console","evt","Notification","useSelector","states","SignupForm","handleCreateUser","setName","phone","setPhone","email","setEmail","Navbar","LoginOutBtn","Button","color","onClick","clear","component","Link","to","AppBar","position","Toolbar","QuoteList","q","date","_id","App","sortedBookings","sort","b","Date","sortBookingsByDate","useEffect","loggedUserJSON","getItem","parse","setUser","userObj","res","Container","maxWidth","path","reducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"wPACMA,EAAU,gBAEZC,EAAQ,KA4BG,GAAEC,OAvBL,uCAAG,4BAAAC,EAAA,sEACSC,IAAMC,IAAIL,GADnB,cACPM,EADO,yBAENA,EAAQC,MAFF,2CAAH,qDAuBYC,OAlBZ,uCAAG,WAAMC,GAAN,iBAAAN,EAAA,6DACPO,EAAS,CACbC,QAAS,CAAEC,cAAgBX,IAFhB,SAIUG,IAAMS,KAAKb,EAASS,EAAWC,GAJzC,cAIPI,EAJO,yBAKNA,EAASP,MALH,2CAAH,sDAkBmBQ,OAVnB,uCAAG,WAAMC,EAAIP,GAAV,eAAAN,EAAA,sEACUC,IAAMa,IAAN,UAAcjB,EAAd,YAA0BgB,GAAMP,GAD1C,cACPK,EADO,yBAENA,EAASP,MAFH,2CAAH,wDAU0BW,OAL1B,uCAAG,WAAMF,GAAN,eAAAb,EAAA,sEACUC,IAAMe,OAAN,UAAiBnB,EAAjB,YAA6BgB,IADvC,cACPF,EADO,yBAENA,EAASP,MAFH,2CAAH,sDAKiCa,SA3B5B,SAAAC,GACfpB,EAAK,iBAAaoB,KCJdrB,EAAU,eAEVE,EAAM,uCAAG,4BAAAC,EAAA,sEACSC,IAAMC,IAAIL,GADnB,cACPM,EADO,yBAENA,EAAQC,MAFF,2CAAH,qDAKNe,EAAe,uCAAG,WAAMC,GAAN,eAAApB,EAAA,sEACDC,IAAMC,IAAIL,EAAO,WAAOuB,IADvB,cAChBC,EADgB,yBAEfA,EAAOjB,KAAKkB,UAFG,2CAAH,sDAoBN,GAAEvB,SAAOM,OAfZ,uCAAG,WAAMC,GAAN,eAAAN,EAAA,sEACUC,IAAMS,KAAKb,EAASS,GAD9B,cACPK,EADO,yBAENA,GAFM,2CAAH,sDAemBC,OAVhB,SAACC,EAAIP,GAElB,OADgBL,IAAMa,IAAN,UAAcjB,EAAd,YAA0BgB,GAAMP,GACjCiB,MAAK,SAAAZ,GAAQ,OAAIA,EAASP,SAQLW,OALvB,SAACF,GAEd,OADgBZ,IAAMe,OAAN,UAAiBnB,EAAjB,YAA6BgB,IAC9BU,MAAK,SAAAZ,GAAQ,OAAIA,EAASP,SAGEe,mBCHtC,SAASK,EAAgBJ,GAC9B,8CAAO,WAAMK,GAAN,eAAAzB,EAAA,sEAEsB0B,EAAcP,gBAAgBC,GAFpD,OAECO,EAFD,OAGLF,EAAS,CACPG,KAAK,gBACLD,iBALG,2CAAP,sDAUK,SAASE,EAAcC,GAC5B,8CAAO,WAAML,GAAN,eAAAzB,EAAA,sEACoB+B,EAAe1B,OAAOyB,GAD1C,OACCE,EADD,OAELP,EAAS,CACPG,KAAK,cACLI,eAJG,2CAAP,sDASaC,MA3CQ,WAAsB,IAArBC,EAAoB,uDAAd,GAAGC,EAAW,uCAC1C,OAAQA,EAAOP,MACf,IAAK,gBACH,OAAOO,EAAOR,aAChB,IAAK,cACH,OAAOO,EAAME,OAAOD,EAAOH,YAC7B,QACE,OAAOE,I,OCiGIG,EAvGG,WAEhB,IAAMZ,EAAWa,cAFK,EAIoBC,oBAAS,GAJ7B,mBAIfC,EAJe,KAIAC,EAJA,OAKgBF,oBAAS,GALzB,mBAKfG,EALe,KAKFC,EALE,OAMwBJ,oBAAS,GANjC,mBAMfK,EANe,KAMEC,EANF,OAOQN,mBAAS,IAPjB,mBAOfO,EAPe,KAONC,EAPM,OAQQR,mBAAS,IARjB,mBAQfS,EARe,KAQNC,EARM,KAUhBC,EAAW,uCAAG,WAAOC,GAAP,eAAAnD,EAAA,sDAClBmD,EAAMC,iBAEAC,EAAkB,CACtBb,GAAiB,cACjBE,GAAe,YACfE,GAAmB,mBAElBU,OAAOC,SACPC,KAAI,SAACC,GAAD,MAAQ,CAAEC,KAAMD,MAQvBhC,EAAUI,EANK,CACb8B,YAAaN,EACbP,UACAE,aAKFD,EAAW,IACXE,EAAW,IACXR,GAAiB,GACjBE,GAAe,GACfE,GAAmB,GAvBD,2CAAH,sDA0BjB,OACE,qCACE,2CACA,uBAAMe,SAAUV,EAAhB,UACE,gCACE,+CACA,+BACE,6BACE,gDAEE,uBACEW,KAAK,cACLjC,KAAK,WACLkC,QAAStB,EACTuB,SAAU,kBAAMtB,GAAkBD,WAKxC,6BACE,8DAEE,uBACEqB,KAAK,YACLjC,KAAK,WACLkC,QAASpB,EACTqB,SAAU,kBAAMpB,GAAgBD,WAKtC,6BACE,oDAEE,uBACEmB,KAAK,kBACLjC,KAAK,WACLkC,QAASlB,EACTmB,SAAU,kBAAMlB,GAAoBD,iBAO9C,6CAEE,uBACEoB,MAAOhB,EACPe,SAAU,gBAAGE,EAAH,EAAGA,OAAH,OAAgBhB,EAAWgB,EAAOD,aAIhD,0CAEE,uBACEA,MAAOlB,EACPiB,SAAU,gBAAGE,EAAH,EAAGA,OAAH,OAAgBlB,EAAWkB,EAAOD,aAIhD,wBAAQpC,KAAK,SAAb,2BC7FO,GAAEsC,MALN,uCAAG,WAAMC,GAAN,eAAAnE,EAAA,sEACWC,IAAMS,KAHf,aAG6ByD,GAD/B,cACNxD,EADM,yBAELA,EAASP,MAFJ,2CAAH,uDCyCIgE,MAxCK,WAA2B,IAA1BlC,EAAyB,uDAAjB,KAAMC,EAAW,uCAC5C,OAAQA,EAAOP,MACf,IAAK,QACH,OAAOO,EAAOkC,KAChB,IAAK,SACH,OAAO,KACT,QACE,OAAOnC,ICDEoC,EAAe,SAAEC,EAASC,GACrC,OAAO,SAAA/C,GACLA,EAAU,CACRG,KAAM,cACN2C,YAEFE,aAPAC,WAQAC,YAAW,WACTlD,EAAS,CACPG,KAAK,cACL2C,QAAQ,SAGD,IAATC,KAISI,EA3BO,WAA6B,IAA3B1C,EAA0B,uDAAlB,KAAMC,EAAY,uCAChD,OAASA,EAAOP,MAChB,IAAK,cACH,OAAOO,EAAOoC,QAChB,QACE,OAAOrC,IC2CI2C,EA1CD,SAAC,GAAc,IAAZR,EAAW,EAAXA,KAET5C,EAAWa,cAFS,EAIMC,mBAAS,IAJf,mBAInBuC,EAJmB,KAITC,EAJS,OAKMxC,mBAAS,IALf,mBAKnByC,EALmB,KAKTC,EALS,KAOpBC,EAAc,SAAC,GAAwB,IAAnBf,EAAkB,oBAC1C,IACE1C,EFAC,SAAe0C,GACpB,8CAAO,WAAM1C,GAAN,eAAAzB,EAAA,sEACcmF,EAAajB,MAAMC,GADjC,cACCE,EADD,OAELe,OAAOC,aAAaC,QAAQ,aAAcC,KAAKC,UAAUnB,IACzDoB,EAAaxE,SAASoD,EAAKvE,OAHtB,kBAKE2B,EAAS,CACdG,KAAK,QACLyC,UAPG,2CAAP,sDEDaH,CAAMC,IACf1C,EAAS6C,EAAa,uBAAuB,IAC7C7C,EAASD,EAAgB6C,EAAKxD,KAE9B,MAAO6E,GACPC,QAAQD,MAAMA,KAGlB,OACE,qCACE,uCACA,uBAAM9B,SAAU,SAACgC,GACfA,EAAIxC,iBACJ8B,EAAY,CAAEJ,WAASE,cAFzB,UAIE,6CACY,uBACRhB,MAASc,EACTf,SAAW,gBAAGE,EAAH,EAAGA,OAAH,OAAgBc,EAAYd,EAAOD,aAGlD,6CACY,uBACRA,MAASgB,EACTjB,SAAW,gBAAGE,EAAH,EAAGA,OAAH,OAAgBgB,EAAYhB,EAAOD,aAElD,kDC7BO6B,EATK,WAClB,IAAMtB,EAAUuB,aAAY,SAAAC,GAAM,OAAIA,EAAOxB,WAC7C,OACE,mCACGA,KCsEQyB,EA3EI,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,iBAAuB,EAGX1D,mBAAS,IAHE,mBAGpCuC,EAHoC,KAG1BC,EAH0B,OAIXxC,mBAAS,IAJE,mBAIpCyC,EAJoC,KAI1BC,EAJ0B,OAKnB1C,mBAAS,IALU,mBAKpCsB,EALoC,KAK9BqC,EAL8B,OAMb3D,mBAAS,IANI,mBAMpCS,EANoC,KAM3BC,EAN2B,OAOjBV,mBAAS,IAPQ,mBAOpC4D,EAPoC,KAO7BC,EAP6B,OAQjB7D,mBAAS,IARQ,mBAQpC8D,EARoC,KAQ7BC,EAR6B,KAY3C,OACE,qCACE,yCAEA,uBAAM1C,SAAU,SAACgC,GACfA,EAAIxC,iBACJ6C,EAAiB,CAAEnB,WAASE,WAASnB,OAAKb,UAAQmD,QAAME,WAF1D,UAKE,4CAEE,uBACErC,MAASc,EACTf,SAAW,gBAAGE,EAAH,EAAGA,OAAH,OAAgBc,EAAYd,EAAOD,aAIlD,4CAEE,uBACEA,MAASgB,EACTjB,SAAW,gBAAGE,EAAH,EAAGA,OAAH,OAAgBgB,EAAYhB,EAAOD,aAIlD,wCAEE,uBACEA,MAASH,EACTE,SAAW,gBAAGE,EAAH,EAAGA,OAAH,OAAgBiC,EAAQjC,EAAOD,aAI9C,2CAEE,uBACEA,MAAShB,EACTe,SAAW,gBAAGE,EAAH,EAAGA,OAAH,OAAgBhB,EAAWgB,EAAOD,aAIjD,yCAEE,uBACEA,MAASmC,EACTpC,SAAW,gBAAGE,EAAH,EAAGA,OAAH,OAAgBmC,EAASnC,EAAOD,aAI/C,yCAEE,uBACEA,MAASqC,EACTtC,SAAW,gBAAGE,EAAH,EAAGA,OAAH,OAAgBqC,EAASrC,EAAOD,aAG/C,oD,0CC/DO,SAASuC,EAAT,GAA2B,IAATlC,EAAQ,EAARA,KAEzB5C,EAAWa,cAQXkE,EAAc,kBAClBnC,EACE,cAACoC,EAAA,EAAD,CAAQC,MAAM,UAAUC,QAAS,kBAPnCvB,OAAOC,aAAauB,QACpBnF,ELgBK,CACLG,KAAM,gBKhBNH,EAAS6C,EAAa,wBAAwB,KAK5C,oBAIA,cAACmC,EAAA,EAAD,CAAQC,MAAM,UAAUG,UAAWC,IAAMC,GAAG,SAA5C,oBAIJ,OACE,cAACC,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACE,eAACC,EAAA,EAAD,WACG7C,EACC,mCACE,cAACoC,EAAA,EAAD,CAAQC,MAAM,UAAUG,UAAWC,IAAMC,GAAG,UAA5C,sBAIA,KACJ,cAACP,EAAD,KAEEnC,GACA,cAACoC,EAAA,EAAD,CAAQC,MAAM,UAAUG,UAAWC,IAAMC,GAAG,UAA5C,yB,aCtCK,SAASI,EAAT,GAAiC,IAAZ7F,EAAW,EAAXA,SAClC,OACE,gCACE,iDACCA,EAASkC,KAAI,SAAA4D,GAAC,OACb,gCACE,yCAAYA,EAAEC,QACd,+CACA,6BACGD,EAAEzD,YAAYH,KAAI,SAAAC,GAAC,OAClB,6BAAiBA,EAAEC,MAAVD,EAAE6D,UAGf,6CAAgBF,EAAEtE,aARVsE,EAAEvG,UCiBpB,IAoEe0G,EApEH,WAEV,IAAM9F,EAAWa,cACX+B,EAAOyB,aAAY,SAAA5D,GAAK,OAAIA,EAAMmC,QAElCmD,EC7BD,SAA4BlG,GACjC,OAAOA,EAASmG,MAAK,SAACzH,EAAE0H,GAAH,OAAS,IAAIC,KAAKD,EAAEL,MAAM,IAAIM,KAAK3H,EAAEqH,SD4BnCO,CADN9B,aAAY,SAAA5D,GAAK,OAAIA,EAAMZ,aAG5CuG,qBAAU,WAELxD,GAAM5C,EAASD,EAAgB6C,EAAKxD,KAEvC,IAAMiH,EAAiB1C,OAAOC,aAAa0C,QAAQ,cAC/CD,GPFD,SAAiBA,GACtB,IAAMzD,EAAOkB,KAAKyC,MAAMF,GACxBrC,EAAaxE,SAASoD,EAAKvE,OOCvBmI,CAAQH,KAKV,CAACrG,EAAS4C,IAEZ,IAAM4B,EAAgB,uCAAG,WAAOiC,GAAP,eAAAlI,EAAA,+EAEF0B,EAAcrB,OAAO6H,GAFnB,OAEfC,EAFe,OAGrB1G,EAAS6C,EAAa,MAAD,OAAO6D,EAAI/H,KAAKyD,KAAhB,iCAAoD,IAHpD,gDAKrB8B,QAAQD,MAAR,MALqB,yDAAH,sDAStB,OACE,qCACE,cAAC,EAAD,IACA,cAACa,EAAD,CAAQlC,KAAMA,IAEd,cAAC+D,EAAA,EAAD,CAAWC,SAAS,KAApB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,UAAZ,SACE,cAAC,EAAD,CAAYrC,iBAAkBA,MAGhC,cAAC,IAAD,CAAOqC,KAAK,SAAZ,SACGjE,EAAO,cAAC,IAAD,CAAU0C,GAAE,mBAAc1C,EAAKxD,MAAW,cAAC,EAAD,CAAOwD,KAAMA,MAGjE,cAAC,IAAD,CAAOiE,KAAK,SAAZ,6BAIA,cAAC,IAAD,CAAOA,KAAK,eAAZ,SACGjE,EACC,qCACE,cAAC,EAAD,IACA,cAAC8C,EAAD,CAAW7F,SAAUkG,OAErB,cAAC,IAAD,CAAUT,GAAG,aAGnB,cAAC,IAAD,CAAOuB,KAAK,IAAZ,SACE,cAAC,IAAD,CAAUvB,GAAG,sB,wBE1EnBwB,EAAUC,0BAAgB,CAC9BjE,QAASK,EACTP,KAAKD,EACL9C,SAAUW,IAQGwG,EALDC,sBACZH,EACAI,8BAAoBC,0BAAgBC,OCTtCC,IAASC,OACP,cAAC,IAAD,CAAUN,MAAOA,EAAjB,SACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJO,SAASC,eAAe,W","file":"static/js/main.106840ea.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/bookings'\n\nlet token = null\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = async() => {\n  const request = await axios.get(baseUrl)\n  return request.data\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization : token },\n  }\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst update = async(id, newObject) => {\n  const response = await axios.put(`${ baseUrl }/${id}`, newObject)\n  return response.data\n}\n\nconst remove = async(id) => {\n  const response = await axios.delete(`${ baseUrl }/${id}`)\n  return response.data\n}\n\nexport default { getAll,create,update,remove,setToken }","import axios from 'axios'\nconst baseUrl = '/api/clients'\n\nconst getAll = async() => {\n  const request = await axios.get(baseUrl)\n  return request.data\n}\n\nconst getBookingsById = async clientId => {\n  const requst = await axios.get(baseUrl + `/${clientId}`)\n  return requst.data.bookings\n}\n\nconst create = async newObject => {\n  const response = await axios.post(baseUrl, newObject)\n  return response\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${ baseUrl }/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${ baseUrl }/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll,create,update,remove,getBookingsById }","import bookingService from '../services/booking'\nimport clientService from '../services/client'\n\nconst bookingReducer = (state=[],action) => {\n  switch (action.type) {\n  case 'INIT_BOOKINGS':\n    return action.initBookings\n  case 'NEW_BOOKING':\n    return state.concat(action.newBooking)\n  default:\n    return state\n  }\n}\n\nexport function initBookingAll(){\n\n  return async dispatch => {\n    const initBookings = await bookingService.getAll()\n    dispatch({\n      type:'INIT_BOOKINGS',\n      initBookings\n    })\n  }\n}\n\nexport function initBookingById(clientId){\n  return async dispatch => {\n    // console.log(clientId)\n    const initBookings = await clientService.getBookingsById(clientId)\n    dispatch({\n      type:'INIT_BOOKINGS',\n      initBookings\n    })\n  }\n}\n\nexport function createBooking(booking){\n  return async dispatch => {\n    const newBooking = await bookingService.create(booking)\n    dispatch({\n      type:'NEW_BOOKING',\n      newBooking\n    })\n  }\n}\n\nexport default bookingReducer","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { createBooking } from '../reducers/bookingReducer'\n\nconst QuoteForm = () => {\n\n  const dispatch = useDispatch()\n\n  const [islLawnMowing, setIslLawnMowing] = useState(false)\n  const [isGardening, setIsGardening] = useState(false)\n  const [isRubbishRemove, setIsRubbishRemove] = useState(false)\n  const [comment, setComment] = useState('')\n  const [address, setAddress] = useState('')\n\n  const submitQuote = async (event) => {\n    event.preventDefault()\n\n    const serviceSelected = [\n      islLawnMowing && 'Lawn mowing',\n      isGardening && 'Gardening',\n      isRubbishRemove && 'Rubbish Removal',\n    ]\n      .filter(Boolean)\n      .map((i) => ({ item: i }))\n\n    const booking ={\n      serviceItem: serviceSelected,\n      comment,\n      address,\n    }\n\n    dispatch( createBooking(booking) )\n\n    setComment('')\n    setAddress('')\n    setIslLawnMowing(false)\n    setIsGardening(false)\n    setIsRubbishRemove(false)\n  }\n\n  return (\n    <>\n      <h2>New Quote</h2>\n      <form onSubmit={submitQuote}>\n        <div>\n          <p>choice service</p>\n          <ul>\n            <li>\n              <label>\n                lawn mowing\n                <input\n                  name=\"lawn_mowing\"\n                  type=\"checkbox\"\n                  checked={islLawnMowing}\n                  onChange={() => setIslLawnMowing(!islLawnMowing)}\n                />\n              </label>\n            </li>\n\n            <li>\n              <label>\n                Gardening and landscaping\n                <input\n                  name=\"gardening\"\n                  type=\"checkbox\"\n                  checked={isGardening}\n                  onChange={() => setIsGardening(!isGardening)}\n                />\n              </label>\n            </li>\n\n            <li>\n              <label>\n                Rubbish Removal\n                <input\n                  name=\"rubbish_removal\"\n                  type=\"checkbox\"\n                  checked={isRubbishRemove}\n                  onChange={() => setIsRubbishRemove(!isRubbishRemove)}\n                />\n              </label>\n            </li>\n          </ul>\n        </div>\n\n        <div>\n          Service at\n          <input\n            value={address}\n            onChange={({ target }) => setAddress(target.value)}\n          />\n        </div>\n\n        <div>\n          comment\n          <input\n            value={comment}\n            onChange={({ target }) => setComment(target.value)}\n          />\n        </div>\n\n        <button type=\"submit\">Submit</button>\n      </form>\n    </>\n  )\n}\n\nexport default QuoteForm\n","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import loginService from '../services/login'\nimport quoteService from '../services/booking'\n\n\nconst userReducer = (state = null, action) => {\n  switch (action.type) {\n  case 'LOGIN':\n    return action.user\n  case 'LOGOUT':\n    return null\n  default:\n    return state\n  }\n}\n\nexport function login(credentials){\n  return async dispatch => {\n    const user = await loginService.login(credentials)\n    window.localStorage.setItem('loggedUser', JSON.stringify(user))\n    quoteService.setToken(user.token)\n\n    return dispatch({\n      type:'LOGIN',\n      user\n    })\n  }\n}\n\nexport function logout(){\n  return {\n    type: 'LOGOUT'\n  }\n}\n\nexport function setUser(loggedUserJSON){\n  const user = JSON.parse(loggedUserJSON)\n  quoteService.setToken(user.token)\n  return {\n    type: 'LOGIN',\n    user\n  }\n}\n\n\nexport default userReducer","const noticeReducer = ( state = null, action ) => {\n  switch ( action.type ) {\n  case 'SET_MESSAGE':\n    return action.message\n  default:\n    return state\n  }\n}\n\nlet timer\nexport const showMesssage = ( message, duration ) => {\n  return dispatch => {\n    dispatch( {\n      type: 'SET_MESSAGE',\n      message\n    })\n    clearTimeout(timer)\n    setTimeout(() => {\n      dispatch({\n        type:'SET_MESSAGE',\n        message:null\n      })\n\n    },duration*1000)\n  }\n}\n\nexport default noticeReducer","import { React, useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { initBookingById } from '../reducers/bookingReducer'\nimport { login } from '../reducers/loginReducer'\nimport { showMesssage } from '../reducers/noticeReducer'\n\nconst Login = ({ user }) => {\n\n  const dispatch = useDispatch()\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const handleLogin = ({ ...credentials }) => {\n    try {\n      dispatch(login(credentials))\n      dispatch(showMesssage('Great!You logged in!',5))\n      dispatch(initBookingById(user.id))\n\n    } catch (error) {\n      console.error(error)\n    }\n  }\n  return(\n    <>\n      <h2>Login</h2>\n      <form onSubmit={(evt) => {\n        evt.preventDefault()\n        handleLogin({ username,password })\n      }}>\n        <div>\n          username: <input\n            value = {username}\n            onChange ={({ target }) => setUsername(target.value)}/>\n        </div>\n\n        <div>\n          password: <input\n            value = {password}\n            onChange ={({ target }) => setPassword(target.value)}/>\n        </div>\n        <button>login</button>\n      </form>\n\n    </>\n  )\n}\n\nexport default Login","import { React } from 'react'\nimport { useSelector } from 'react-redux'\n\nconst Notification =() => {\n  const message = useSelector(states => states.message)\n  return(\n    <>\n      {message}\n    </>\n  )\n}\n\nexport default Notification","import { React, useState } from 'react'\n\nconst SignupForm = ({ handleCreateUser }) => {\n\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [name, setName] = useState('')\n  const [address, setAddress] = useState('')\n  const [phone, setPhone] = useState('')\n  const [email, setEmail] = useState('')\n\n\n\n  return(\n    <>\n      <h2>Sign up</h2>\n\n      <form onSubmit={(evt) => {\n        evt.preventDefault()\n        handleCreateUser({ username,password,name,address,phone,email })\n      }}>\n\n        <div>\n      username:\n          <input\n            value = {username}\n            onChange ={({ target }) => setUsername(target.value)}\n          />\n        </div>\n\n        <div>\n      password:\n          <input\n            value = {password}\n            onChange ={({ target }) => setPassword(target.value)}\n          />\n        </div>\n\n        <div>\n      name:\n          <input\n            value = {name}\n            onChange ={({ target }) => setName(target.value)}\n          />\n        </div>\n\n        <div>\n      address:\n          <input\n            value = {address}\n            onChange ={({ target }) => setAddress(target.value)}\n          />\n        </div>\n\n        <div>\n      phone:\n          <input\n            value = {phone}\n            onChange ={({ target }) => setPhone(target.value)}\n          />\n        </div>\n\n        <div>\n      email:\n          <input\n            value = {email}\n            onChange ={({ target }) => setEmail(target.value)}\n          />\n        </div>\n        <button>sign up</button>\n      </form>\n\n    </>\n  )\n}\n\nexport default SignupForm","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { AppBar, Toolbar, Button } from '@material-ui/core'\nimport { useDispatch } from 'react-redux'\nimport { logout } from '../reducers/loginReducer'\nimport { showMesssage } from '../reducers/noticeReducer'\n\nexport default function Navbar({ user }) {\n\n  const dispatch = useDispatch()\n\n  const handleLogout = () => {\n    window.localStorage.clear()\n    dispatch(logout())\n    dispatch(showMesssage('Great!You logged out!',5))\n  }\n\n  const LoginOutBtn = () =>\n    user ? (\n      <Button color=\"inherit\" onClick={() => handleLogout()}>\n        logout\n      </Button>\n    ) : (\n      <Button color=\"inherit\" component={Link} to=\"/login\">\n        login\n      </Button>\n    )\n  return (\n    <AppBar position=\"static\">\n      <Toolbar>\n        {user ? (\n          <>\n            <Button color=\"inherit\" component={Link} to=\"/quotes\">\n              quotes\n            </Button>\n          </>\n        ) : null}\n        <LoginOutBtn />\n\n        {!user && (\n          <Button color=\"inherit\" component={Link} to=\"/signup\">\n            signup\n          </Button>\n        )}\n      </Toolbar>\n    </AppBar>\n  )\n}\n","import React from 'react'\n\nexport default function QuoteList({ bookings }){\n  return(\n    <div>\n      <h2>Booking history</h2>\n      {bookings.map(q => (\n        <div key={q.id}>\n          <h4>Date : {q.date}</h4>\n          <h4>Service items</h4>\n          <ul>\n            {q.serviceItem.map(i => (\n              <li key={i._id}>{i.item}</li>\n            ))}\n          </ul>\n          <div>comments: {q.comment}</div>\n        </div>\n      ))}\n    </div>\n  )\n}","/* eslint-disable no-unused-vars */\nimport { React, useEffect } from 'react'\nimport QuoteFrom from './components/BookingForm'\nimport Login from './components/Login'\nimport Notification from './components/Notification'\nimport SignupForm from './components/SignupForm'\nimport clientService from './services/client'\n\nimport {\n  Switch,\n  Route,\n  Redirect,\n  // useRouteMatch\n} from 'react-router-dom'\nimport Navbar from './components/Navbar'\nimport { Container } from '@material-ui/core'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { showMesssage } from './reducers/noticeReducer'\nimport QuoteList from './components/QuoteList'\nimport { sortBookingsByDate } from './helpers/sortHelper'\nimport { initBookingAll, initBookingById } from './reducers/bookingReducer'\nimport { setUser } from './reducers/loginReducer'\n\n\nconst App = () => {\n\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.user)\n  const bookings = useSelector(state => state.bookings)\n  const sortedBookings = sortBookingsByDate(bookings)\n\n  useEffect(() => {\n\n    if(user) dispatch(initBookingById(user.id))\n\n    const loggedUserJSON = window.localStorage.getItem('loggedUser')\n    if (loggedUserJSON) {\n      setUser(loggedUserJSON)\n    }\n\n\n\n  },[dispatch,user])\n\n  const handleCreateUser = async (userObj) => {\n    try {\n      const res =  await clientService.create(userObj)\n      dispatch(showMesssage(`hi ${res.data.name} you are signed up, login pls`,5))\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  return (\n    <>\n      <Notification />\n      <Navbar user={user} />\n\n      <Container maxWidth=\"sm\">\n        <Switch>\n          <Route path=\"/signup\">\n            <SignupForm handleCreateUser={handleCreateUser} />\n          </Route>\n\n          <Route path=\"/login\">\n            {user ? <Redirect to={`/clients/${user.id}`} /> : <Login user={user} />}\n          </Route>\n\n          <Route path=\"/quote\">\n            some quote form\n          </Route>\n\n          <Route path=\"/clients/:id\">\n            {user ?\n              <>\n                <QuoteFrom />\n                <QuoteList bookings={sortedBookings} />\n              </>\n              : <Redirect to=\"/login\" />}\n          </Route>\n\n          <Route path=\"/\">\n            <Redirect to=\"/login\" />\n          </Route>\n\n        </Switch>\n      </Container>\n    </>\n  )\n}\n\n\nexport default App\n","export function sortBookingsByDate(bookings){\n  return bookings.sort((a,b) => new Date(b.date)-new Date(a.date))\n}","import { applyMiddleware, combineReducers, createStore } from 'redux'\nimport noticeReducer from './reducers/noticeReducer'\nimport thunk from 'redux-thunk'\nimport userReducer from './reducers/loginReducer'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport bookingReducer from './reducers/bookingReducer'\n\n\nconst reducer = combineReducers({\n  message: noticeReducer,\n  user:userReducer,\n  bookings: bookingReducer\n})\n\nconst store = createStore(\n  reducer,\n  composeWithDevTools(applyMiddleware(thunk))\n)\n\nexport default store\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport {  BrowserRouter as Router } from 'react-router-dom'\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}